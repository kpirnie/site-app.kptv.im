/*! KPT DataTables | MIT License | Kevin Pirnie */
const KPDataTablesPlain={showModal:function(t){const e=document.getElementById(t);e&&(e.classList.add("kp-dt-open"),e.classList.add("kp-dt-open-tailwind"),document.body.style.overflow="hidden")},hideModal:function(t){const e=document.getElementById(t);e&&(e.classList.remove("kp-dt-open"),e.classList.remove("kp-dt-open-tailwind"),document.body.style.overflow="")},notification:function(t,e="success"){const a=document.querySelector(".kp-dt-notification-container")||this.createNotificationContainer(),o=document.createElement("div");o.className=`kp-dt-notification kp-dt-notification-${e} kp-dt-notification-tailwind kp-dt-notification-${e}-tailwind`,o.textContent=t,a.appendChild(o),setTimeout(()=>{o.style.opacity="0",o.style.transform="translateY(-10px)",setTimeout(()=>o.remove(),300)},3e3)},createNotificationContainer:function(){const t=document.createElement("div");return t.className="kp-dt-notification-container",t.style.cssText="position: fixed; top: 20px; right: 20px; z-index: 1040; display: flex; flex-direction: column; gap: 10px;",document.body.appendChild(t),t},confirm:function(t){return new Promise((e,a)=>{const o=document.createElement("div");o.className="kp-dt-modal kp-dt-modal-tailwind kp-dt-open kp-dt-open-tailwind",o.style.cssText="position: fixed; inset: 0; background: rgba(0,0,0,0.6); display: flex; align-items: center; justify-content: center; z-index: 1050;";const i=document.createElement("div");i.className="kp-dt-modal-dialog kp-dt-modal-dialog-tailwind",i.style.cssText="background: white; padding: 30px; border-radius: 4px; max-width: 400px; text-align: center;",i.innerHTML=`\n                <p style="margin-bottom: 20px;">${t}</p>\n                <div style="display: flex; gap: 10px; justify-content: center;">\n                    <button class="kp-dt-button kp-dt-button-tailwind kp-dt-confirm-cancel" style="padding: 8px 24px;">Cancel</button>\n                    <button class="kp-dt-button kp-dt-button-primary kp-dt-button-tailwind kp-dt-button-primary-tailwind kp-dt-confirm-ok" style="padding: 8px 24px;">Confirm</button>\n                </div>\n            `,o.appendChild(i),document.body.appendChild(o),i.querySelector(".kp-dt-confirm-ok").addEventListener("click",()=>{o.remove(),e()}),i.querySelector(".kp-dt-confirm-cancel").addEventListener("click",()=>{o.remove(),a()}),o.addEventListener("click",t=>{t.target===o&&(o.remove(),a())})})}},KPDataTablesBootstrap={notification:function(t,e="success"){let a=document.querySelector(".kp-dt-toast-container-bootstrap");a||(a=document.createElement("div"),a.className="kp-dt-toast-container-bootstrap toast-container position-fixed top-0 end-0 p-3",document.body.appendChild(a));const o="success"===e?"bg-success":"danger"===e?"bg-danger":"bg-warning",i=document.createElement("div");i.className=`toast align-items-center text-white ${o} border-0`,i.setAttribute("role","alert"),i.innerHTML=`\n            <div class="d-flex">\n                <div class="toast-body">${t}</div>\n                <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"></button>\n            </div>\n        `,a.appendChild(i),new bootstrap.Toast(i,{delay:3e3}).show(),i.addEventListener("hidden.bs.toast",()=>i.remove())},confirm:function(t){return new Promise((e,a)=>{const o="kp-dt-confirm-modal-"+Date.now(),i=`\n                <div class="modal fade" id="${o}" tabindex="-1">\n                    <div class="modal-dialog modal-dialog-centered">\n                        <div class="modal-content">\n                            <div class="modal-body text-center py-4">\n                                <p class="mb-4">${t}</p>\n                                <div class="d-flex gap-2 justify-content-center">\n                                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>\n                                    <button type="button" class="btn btn-primary kp-dt-confirm-ok">Confirm</button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            `;document.body.insertAdjacentHTML("beforeend",i);const s=document.getElementById(o),n=new bootstrap.Modal(s);s.querySelector(".kp-dt-confirm-ok").addEventListener("click",()=>{n.hide(),e()}),s.addEventListener("hidden.bs.modal",()=>{s.remove(),a()}),n.show()})}};window.KPDataTablesPlain=KPDataTablesPlain,window.KPDataTablesBootstrap=KPDataTablesBootstrap;class DataTablesJS{constructor(t={}){this.tableName=t.tableName||"",this.primaryKey=t.primaryKey||"id",this.inlineEditableColumns=t.inlineEditableColumns||[],this.perPage=t.perPage||25,this.bulkActionsEnabled=t.bulkActionsEnabled||!1,this.bulkActions=t.bulkActions||{},this.actionConfig=t.actionConfig||{},this.columns=t.columns||{},this.cssClasses=t.cssClasses||{},this.theme=t.theme||"uikit",this.footerAggregations=t.footerAggregations||{},this.currentPage=1,this.sortColumn=t.defaultSortColumn||"",this.sortDirection=t.defaultSortDirection||"ASC",this.search="",this.deleteId=null,this.selectedIds=new Set,this.init()}init(){this.bindEvents(),this.loadData(),window.DataTables=this}getThemeClass(t){const e={uikit:{table:{shrink:"uk-table-shrink",center:"uk-text-center",muted:"uk-text-muted"},checkbox:"uk-checkbox",input:"uk-input uk-width-1-1",select:"uk-select uk-width-1-1",textarea:"uk-textarea uk-width-1-1",button:{default:"uk-button uk-button-default",primary:"uk-button uk-button-primary",small:"uk-button-small"},icon:{link:"uk-icon-link",success:"uk-text-success",danger:"uk-text-danger"},pagination:{disabled:"uk-disabled",active:"uk-active"},flex:{right:"uk-flex uk-flex-right",between:"uk-flex-between"},margin:{smallRight:"uk-margin-small-right",smallBottom:"uk-margin-small-bottom",smallTop:"uk-margin-small-top"},border:{rounded:"uk-border-rounded"},display:{block:"uk-display-block"}},bootstrap:{table:{shrink:"",center:"text-center",muted:"text-muted"},checkbox:"form-check-input",input:"form-control",select:"form-select",textarea:"form-control",button:{default:"btn btn-secondary",primary:"btn btn-primary",small:"btn-sm"},icon:{link:"",success:"text-success",danger:"text-danger"},pagination:{disabled:"disabled",active:"active"},flex:{right:"d-flex justify-content-end",between:"justify-content-between"},margin:{smallRight:"me-2",smallBottom:"mb-2",smallTop:"mt-2"},border:{rounded:"rounded"},display:{block:"d-block"}},plain:{table:{shrink:"kp-dt-table-shrink",center:"kp-dt-text-center",muted:"kp-dt-text-muted"},checkbox:"kp-dt-checkbox",input:"kp-dt-input kp-dt-width-1-1",select:"kp-dt-select kp-dt-width-1-1",textarea:"kp-dt-textarea kp-dt-width-1-1",button:{default:"kp-dt-button",primary:"kp-dt-button kp-dt-button-primary",small:"kp-dt-button-small"},icon:{link:"kp-dt-icon-link",success:"kp-dt-text-success",danger:"kp-dt-text-danger"},pagination:{disabled:"kp-dt-disabled",active:"kp-dt-active"},flex:{right:"kp-dt-flex kp-dt-flex-right",between:"kp-dt-flex-between"},margin:{smallRight:"kp-dt-margin-small-right",smallBottom:"kp-dt-margin-small-bottom",smallTop:"kp-dt-margin-small-top"},border:{rounded:"kp-dt-border-rounded"},display:{block:"kp-dt-display-block"}},tailwind:{table:{shrink:"w-px whitespace-nowrap",center:"text-center",muted:"text-gray-500"},checkbox:"h-4 w-4 rounded border-gray-300",input:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",select:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",textarea:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",button:{default:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",primary:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",small:"px-2 py-1 text-xs"},icon:{link:"text-gray-400 hover:text-gray-600",success:"text-green-500",danger:"text-red-500"},pagination:{disabled:"opacity-50 cursor-not-allowed",active:"font-bold text-blue-600"},flex:{right:"flex justify-end",between:"justify-between"},margin:{smallRight:"mr-2",smallBottom:"mb-2",smallTop:"mt-2"},border:{rounded:"rounded"},display:{block:"block"}}},a=e[this.theme]||e.uikit,o=t.split(".");let i=a;for(const t of o)i=i?.[t];return i||""}showNotification(t,e="success"){"uikit"===this.theme&&"undefined"!=typeof UIkit?UIkit.notification(t,{status:e}):"bootstrap"===this.theme?KPDataTablesBootstrap.notification(t,e):void 0!==KPDataTablesPlain?KPDataTablesPlain.notification(t,e):alert(t)}showModal(t){"uikit"===this.theme&&"undefined"!=typeof UIkit?UIkit.modal(`#${t}`).show():"bootstrap"===this.theme&&"undefined"!=typeof bootstrap?new bootstrap.Modal(document.getElementById(t)).show():void 0!==KPDataTablesPlain&&KPDataTablesPlain.showModal(t)}hideModal(t){if("uikit"===this.theme&&"undefined"!=typeof UIkit)UIkit.modal(`#${t}`).hide();else if("bootstrap"===this.theme&&"undefined"!=typeof bootstrap){const e=document.getElementById(t),a=bootstrap.Modal.getInstance(e);a&&a.hide()}else void 0!==KPDataTablesPlain&&KPDataTablesPlain.hideModal(t);document.querySelectorAll(".kp-select2-dropdown").forEach(t=>{t.style.display="none"})}showConfirm(t){return new Promise((e,a)=>{"uikit"===this.theme&&"undefined"!=typeof UIkit?UIkit.modal.confirm(t).then(e,a):"bootstrap"===this.theme?KPDataTablesBootstrap.confirm(t).then(e,a):void 0!==KPDataTablesPlain?KPDataTablesPlain.confirm(t).then(e,a):confirm(t)?e():a()})}renderIcon(t,e=""){return"uikit"===this.theme?`<span uk-icon="${t}" class="${e}"></span>`:"bootstrap"===this.theme?`<i class="bi ${{check:"bi-check-lg",close:"bi-x-lg",pencil:"bi-pencil",trash:"bi-trash",plus:"bi-plus",search:"bi-search",refresh:"bi-arrow-clockwise","triangle-up":"bi-caret-up-fill","triangle-down":"bi-caret-down-fill","chevron-double-left":"bi-chevron-double-left","chevron-double-right":"bi-chevron-double-right"}[t]||"bi-link"} ${e}"></i>`:`<span class="${e}">${{check:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="currentColor"><polyline fill="none" stroke="currentColor" stroke-width="1.1" points="4,10 8,15 17,4"></polyline></svg>',close:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="currentColor"><line fill="none" stroke="currentColor" stroke-width="1.4" x1="1" y1="1" x2="19" y2="19"></line><line fill="none" stroke="currentColor" stroke-width="1.4" x1="19" y1="1" x2="1" y2="19"></line></svg>',pencil:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="currentColor"><path fill="none" stroke="currentColor" d="M17.25,6.01 L7.12,16.1 L3.82,17.2 L5.02,13.9 L15.12,3.88 C15.71,3.29 16.66,3.29 17.25,3.88 C17.84,4.47 17.84,5.42 17.25,6.01"></path></svg>',trash:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="currentColor"><polyline fill="none" stroke="currentColor" points="6.5 3 6.5 1.5 13.5 1.5 13.5 3"></polyline><polyline fill="none" stroke="currentColor" points="3.5 4 16.5 4 15.5 18.5 4.5 18.5 3.5 4"></polyline></svg>',plus:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="currentColor"><line fill="none" stroke="currentColor" x1="10" y1="1" x2="10" y2="19"></line><line fill="none" stroke="currentColor" x1="1" y1="10" x2="19" y2="10"></line></svg>',search:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="currentColor"><circle fill="none" stroke="currentColor" stroke-width="1.1" cx="9" cy="9" r="7"></circle><path fill="none" stroke="currentColor" stroke-width="1.1" d="M14,14 L18,18 L14,14 Z"></path></svg>',refresh:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="currentColor"><path fill="none" stroke="currentColor" stroke-width="1.1" d="M17.08,11.15 C17.09,11.31 17.1,11.47 17.1,11.64 C17.1,15.53 13.94,18.69 10.05,18.69 C6.16,18.68 3,15.53 3,11.63 C3,7.74 6.16,4.58 10.05,4.58 C10.9,4.58 11.71,4.73 12.46,5"></path><polyline fill="none" stroke="currentColor" points="9.9 2 12.79 4.89 9.79 7.9"></polyline></svg>',"triangle-up":'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="currentColor"><polygon points="10,5 15,14 5,14"></polygon></svg>',"triangle-down":'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="currentColor"><polygon points="10,15 15,6 5,6"></polygon></svg>',"chevron-double-left":'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="currentColor"><polyline fill="none" stroke="currentColor" stroke-width="1.2" points="10,14 6,10 10,6"></polyline><polyline fill="none" stroke="currentColor" stroke-width="1.2" points="14,14 10,10 14,6"></polyline></svg>',"chevron-double-right":'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="currentColor"><polyline fill="none" stroke="currentColor" stroke-width="1.2" points="10,14 14,10 10,6"></polyline><polyline fill="none" stroke="currentColor" stroke-width="1.2" points="6,14 10,10 6,6"></polyline></svg>'}[t]||""}</span>`}bindEvents(){document.querySelectorAll(".datatables-search").forEach(t=>{let e;t.addEventListener("input",t=>{clearTimeout(e),e=setTimeout(()=>{this.search=t.target.value,this.currentPage=1,this.loadData()},300)})}),document.querySelectorAll(".datatables-page-size").forEach(t=>{t.addEventListener("change",t=>{this.perPage=parseInt(t.target.value),this.currentPage=1,document.querySelectorAll(".datatables-page-size").forEach(e=>{e.value=t.target.value}),this.loadData()})}),this.bulkActionsEnabled&&document.querySelectorAll(".datatables-bulk-action").forEach(t=>{t.addEventListener("change",t=>{document.querySelectorAll(".datatables-bulk-execute").forEach(e=>{e.disabled=!t.target.value||0===this.selectedIds.size})})}),document.addEventListener("click",t=>{if(t.target.closest(".sortable-header")){const e=t.target.closest("th[data-sort]");if(e){const t=e.getAttribute("data-sort");this.sortColumn===t?this.sortDirection="ASC"===this.sortDirection?"DESC":"ASC":(this.sortColumn=t,this.sortDirection="ASC"),this.currentPage=1,this.loadData(),this.updateSortIcons()}}})}loadData(){const t=new URLSearchParams({action:"fetch_data",table:this.tableName,page:this.currentPage,per_page:this.perPage,search:this.search,sort_column:this.sortColumn,sort_direction:this.sortDirection});fetch("?"+t.toString()).then(t=>t.json()).then(t=>{t.success?(this.renderTable(t.data),this.renderPagination(t),this.renderInfo(t),this.loadAggregations()):(console.error("Failed to load data:",t.message),this.showNotification(t.message||"Failed to load data","danger"))}).catch(t=>{console.error("Error loading data:",t),this.showNotification("Error loading data","danger")})}loadAggregations(){if(!this.footerAggregations||0===Object.keys(this.footerAggregations).length)return;const t=new URLSearchParams({action:"fetch_aggregations",table:this.tableName,search:this.search});fetch("?"+t.toString()).then(t=>t.json()).then(t=>{t.success&&t.aggregations&&this.renderAggregations(t.aggregations)}).catch(t=>{console.error("Error loading aggregations:",t)})}renderAggregations(t){document.querySelectorAll('.datatables-agg-cell[data-agg-scope="all"]').forEach(e=>{const a=e.getAttribute("data-agg-column"),o=e.getAttribute("data-agg-type");t[a]&&void 0!==t[a][o]&&(e.textContent=this.formatAggValue(t[a][o]))})}calculatePageAggregations(t){this.footerAggregations&&0!==Object.keys(this.footerAggregations).length&&(t&&0!==t.length?document.querySelectorAll('.datatables-agg-cell[data-agg-scope="page"]').forEach(e=>{const a=e.getAttribute("data-agg-column"),o=e.getAttribute("data-agg-type");let i=t.map(t=>{let e=t[a];return null==e||""===e?0:parseFloat(e)||0}),s=0;if("sum"===o)s=i.reduce((t,e)=>t+e,0);else if("avg"===o){const t=i.reduce((t,e)=>t+e,0);s=i.length>0?t/i.length:0}e.textContent=this.formatAggValue(s)}):document.querySelectorAll('.datatables-agg-cell[data-agg-scope="page"]').forEach(t=>{t.textContent="â€”"}))}formatAggValue(t){return Number.isInteger(t)?t.toLocaleString():parseFloat(t.toFixed(2)).toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:2})}renderTable(t){const e=document.querySelector(".datatables-tbody");if(!e)return;const a=this.getColumnCount(),o=this.getThemeClass("table.shrink"),i=this.getThemeClass("table.center"),s=this.getThemeClass("table.muted"),n=this.getThemeClass("checkbox");if(!t||0===t.length)return void(e.innerHTML=`<tr><td colspan="${a}" class="${i} ${s}">No records found</td></tr>`);const l=document.querySelector(".datatables-table"),r=l?JSON.parse(l.dataset.columns||"{}"):{};let c="";t.forEach(t=>{const e=t["s.id"]||t.id||t[this.primaryKey]||Object.values(t)[0],a=this.getRowClass(e);c+=`<tr${a?` class="${a} row-select"`:""} data-id="${e}">`,this.bulkActionsEnabled&&(c+=`<td class="${o} row-check">`,c+=`<label><input type="checkbox" class="${n} row-checkbox" value="${e}" onchange="DataTables.toggleRowSelection(this)"></label>`,c+="</td>"),"start"===this.actionConfig.position&&(c+=`<td class="${o} row-action">`,c+=this.renderActionButtons(e,t),c+="</td>"),Object.keys(this.columns).forEach(a=>{let o=this.cssClasses?.columns?.[a]||"";if(!o&&a.toLowerCase().includes(" as ")){const t=a.split(/\s+as\s+/i);if(2===t.length){const e=t[1].replace(/[`'"]/g,"");o=this.cssClasses?.columns?.[e]||""}}const i=this.inlineEditableColumns.includes(a);let s=a;if(a.toLowerCase().includes(" as ")){const t=a.split(/\s+as\s+/i);2===t.length&&(s=t[1].replace(/[`'"]/g,""))}let n=t[s]??"";const l=i?" cell-edit":"",d=r[a]?.override_type||r[a]?.type||"text";if("boolean"===d){const t="1"==n||"true"===n||!0===n,o=t?"check":"close",s=t?this.getThemeClass("icon.success"):this.getThemeClass("icon.danger"),l=n;i?(n=`<span class="inline-editable boolean-toggle" data-field="${a}" data-id="${e}" data-type="boolean" data-value="${l}" style="cursor: pointer;">`,n+=this.renderIcon(o,s),n+="</span>"):n=`<span data-value="${l}">${this.renderIcon(o,s)}</span>`}else if("select"===d){const t=r[a]?.form_options||{},o=String(n),s=o in t?t[o]:n;n=i?`<span class="inline-editable" data-field="${a}" data-id="${e}" data-type="${d}" data-value="${n}" style="cursor: pointer;">${s}</span>`:s}else if("select2"===d){const o=t[s+"_label"]||n;n=i?`<span class="inline-editable" data-field="${a}" data-id="${e}" data-type="${d}" data-value="${n}" style="cursor: pointer;">${o}</span>`:o}else if("image"===d){const t=this.getThemeClass("border.rounded");if(n&&n.trim()){const o=n.startsWith("http")?n:`/uploads/${n}`;i?(n=`<span class="inline-editable" data-field="${a}" data-id="${e}" data-type="${d}" data-value="${n}" style="cursor: pointer;">`,n+=`<img src="${o}" alt="Image" style="max-width: 50px; max-height: 50px; object-fit: cover;" class="${t}">`,n+="</span>"):n=`<img src="${o}" alt="Image" style="max-width: 50px; max-height: 50px; object-fit: cover;" class="${t}">`}else n=i?`<span class="inline-editable" data-field="${a}" data-id="${e}" data-type="${d}" data-value="" style="cursor: pointer;">No image</span>`:"No image"}else i&&(n=`<span class="inline-editable" data-field="${a}" data-id="${e}" data-type="${d}" style="cursor: pointer;">${n}</span>`);const h=[o,l].filter(t=>t).join(" ");c+=`<td${h?` class="${h}"`:""}>${n}</td>`}),"end"===this.actionConfig.position&&(c+=`<td class="${o} row-action">`,c+=this.renderActionButtons(e,t),c+="</td>"),c+="</tr>"}),e.innerHTML=c,this.bindTableEvents(),this.updateBulkActionButtons(),this.calculatePageAggregations(t)}renderActionButtons(t,e={}){let a="";const o=this.getThemeClass("icon.link");this.getThemeClass("margin.smallRight"),window.DataTablesRowData||(window.DataTablesRowData={}),window.DataTablesRowData[t]=e;const i=a=>{if("string"!=typeof a)return a;let o=a.replace("{id}",t);for(const[t,a]of Object.entries(e)){const e="{"+t+"}";o=o.replace(new RegExp(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),a||"")}return o};return this.actionConfig.groups&&this.actionConfig.groups.length>0?this.actionConfig.groups.forEach(e=>{Array.isArray(e)?e.forEach(t=>{switch(t){case"edit":"uikit"===this.theme?a+='<a href="#" class="uk-icon-link btn-edit uk-margin-tiny-full" uk-icon="pencil" title="Edit Record" uk-tooltip="Edit Record"></a>':a+=`<a href="#" class="${o} btn-edit" title="Edit Record">${this.renderIcon("pencil")}</a>`;break;case"delete":"uikit"===this.theme?a+='<a href="#" class="uk-icon-link btn-delete uk-margin-tiny-full" uk-icon="trash" title="Delete Record" uk-tooltip="Delete Record"></a>':a+=`<a href="#" class="${o} btn-delete" title="Delete Record">${this.renderIcon("trash")}</a>`}}):"object"==typeof e&&null!==e&&(Object.keys(e).filter(t=>t.startsWith("html")).forEach(t=>{const o=e[t];"object"==typeof o&&o.location&&o.content?"before"!==o.location&&"both"!==o.location||(a+=i(o.content)):"string"==typeof o&&(a+=i(o))}),Object.keys(e).filter(t=>!t.startsWith("html")).forEach(s=>{const n=e[s];if(n&&"object"==typeof n){if(n.html)if("object"==typeof n.html&&n.html.location&&n.html.content)"before"!==n.html.location&&"both"!==n.html.location||(a+=i(n.html.content));else if("string"==typeof n.html&&!n.hasCallback&&void 0===n.href&&void 0===n.icon)return void(a+=i(n.html));if(n.hasCallback){const e=n.icon||"link",i=n.title||"",l=n.class||"btn-custom",r=n.confirm||"";"uikit"===this.theme?a+='<a href="#" class="uk-icon-link '+l+'" uk-icon="'+e+'" title="'+i+'" uk-tooltip="'+i+'"':a+='<a href="#" class="'+o+" "+l+'" title="'+i+'"',a+=' data-action="'+s+'"',a+=' data-id="'+t+'"',a+=' data-confirm="'+r+'"',a+=" onclick=\"DataTables.executeActionCallback('"+s+"', "+t+', event)"',a+=">","uikit"!==this.theme&&(a+=this.renderIcon(e)),a+="</a>"}else if(void 0!==n.href||void 0!==n.icon){const t=i(n.icon||"link"),e=i(n.title||""),s=i(n.class||"btn-custom"),l=i(n.href||"#"),r=i(n.onclick||""),c=n.attributes||{};"uikit"===this.theme?a+='<a href="'+l+'" class="uk-icon-link '+s+'" uk-icon="'+t+'" title="'+e+'" uk-tooltip="'+e+'"':a+='<a href="'+l+'" class="'+o+" "+s+'" title="'+e+'"',r&&(a+=' onclick="'+r+'"');for(const[t,e]of Object.entries(c)){const o=i(String(e));a+=" "+t+'="'+o+'"'}a+=">","uikit"!==this.theme&&(a+=this.renderIcon(t)),a+="</a>"}n.html&&"object"==typeof n.html&&n.html.location&&n.html.content&&("after"!==n.html.location&&"both"!==n.html.location||(a+=i(n.html.content)))}}),Object.keys(e).filter(t=>t.startsWith("html")).forEach(t=>{const o=e[t];"object"==typeof o&&o.location&&o.content&&("after"!==o.location&&"both"!==o.location||(a+=i(o.content)))}))}):(!1!==this.actionConfig.show_edit&&("uikit"===this.theme?a+='<a href="#" class="uk-icon-link btn-edit uk-margin-tiny-full" uk-icon="pencil" title="Edit Record" uk-tooltip="Edit Record"></a>':a+=`<a href="#" class="${o} btn-edit" title="Edit Record">${this.renderIcon("pencil")}</a>`),!1!==this.actionConfig.show_delete&&("uikit"===this.theme?a+='<a href="#" class="uk-icon-link btn-delete uk-margin-tiny-full" uk-icon="trash" title="Delete Record" uk-tooltip="Delete Record"></a>':a+=`<a href="#" class="${o} btn-delete" title="Delete Record">${this.renderIcon("trash")}</a>`)),a}renderInfo(t){const e=(t.page-1)*t.per_page+1,a=`Showing ${e} to ${Math.min(e+t.per_page-1,t.total)} of ${t.total} records`;document.querySelectorAll(".datatables-info").forEach(t=>{t.textContent=a})}renderPagination(t){if(t.total_pages<=1)return void document.querySelectorAll(".datatables-pagination").forEach(t=>{t.innerHTML=""});let e="";const a=parseInt(t.page),o=parseInt(t.total_pages),i=this.getThemeClass("pagination.disabled"),s=this.getThemeClass("pagination.active");if("bootstrap"===this.theme){e+=`<li class="page-item${1===a?" disabled":""}">`,e+=`<a class="page-link" ${1===a?"":'onclick="DataTables.goToPage(1)"'} title="First Page">&laquo;&laquo;</a></li>`,e+=`<li class="page-item${1===a?" disabled":""}">`,e+=`<a class="page-link" ${1===a?"":`onclick="DataTables.goToPage(${a-1})"`} title="Previous Page">&laquo;</a></li>`,a>2&&(e+='<li class="page-item"><a class="page-link" onclick="DataTables.goToPage(1)">1</a></li>',a>3&&(e+='<li class="page-item disabled"><span class="page-link">...</span></li>'));const t=Math.max(1,a-1),i=Math.min(o,a+1);for(let o=t;o<=i;o++)e+=`<li class="page-item${o===a?" active":""}">`,e+=`<a class="page-link" ${o===a?"":`onclick="DataTables.goToPage(${o})"`}>${o}</a></li>`;a<o-1&&(a<o-2&&(e+='<li class="page-item disabled"><span class="page-link">...</span></li>'),e+=`<li class="page-item"><a class="page-link" onclick="DataTables.goToPage(${o})">${o}</a></li>`),e+=`<li class="page-item${a===o?" disabled":""}">`,e+=`<a class="page-link" ${a===o?"":`onclick="DataTables.goToPage(${a+1})"`} title="Next Page">&raquo;</a></li>`,e+=`<li class="page-item${a===o?" disabled":""}">`,e+=`<a class="page-link" ${a===o?"":`onclick="DataTables.goToPage(${o})"`} title="Last Page">&raquo;&raquo;</a></li>`}else if("uikit"===this.theme){e+=`<li${1===a?' class="uk-disabled"':""}>`,e+=`<a ${1===a?"":' onclick="DataTables.goToPage(1)"'} title="First Page">`,e+='<span uk-icon="chevron-double-left"></span></a></li>',e+=`<li${1===a?' class="uk-disabled"':""}>`,e+=`<a ${1===a?"":` onclick="DataTables.goToPage(${a-1})"`} title="Previous Page">`,e+="<span uk-pagination-previous></span></a></li>",a>2&&(e+='<li><a onclick="DataTables.goToPage(1)">1</a></li>',a>3&&(e+='<li class="uk-disabled"><span>...</span></li>'));const t=Math.max(1,a-1),i=Math.min(o,a+1);for(let o=t;o<=i;o++)e+=`<li${o===a?' class="uk-active"':""}>`,e+=`<a ${o===a?"":` onclick="DataTables.goToPage(${o})"`}>${o}</a></li>`;a<o-1&&(a<o-2&&(e+='<li class="uk-disabled"><span>...</span></li>'),e+=`<li><a onclick="DataTables.goToPage(${o})">${o}</a></li>`),e+=`<li${a===o?' class="uk-disabled"':""}>`,e+=`<a ${a===o?"":` onclick="DataTables.goToPage(${a+1})"`} title="Next Page">`,e+="<span uk-pagination-next></span></a></li>",e+=`<li${a===o?' class="uk-disabled"':""}>`,e+=`<a ${a===o?"":` onclick="DataTables.goToPage(${o})"`} title="Last Page">`,e+='<span uk-icon="chevron-double-right"></span></a></li>'}else{e+=`<li${1===a?` class="${i}"`:""}>`,e+=`<a ${1===a?"":'onclick="DataTables.goToPage(1)"'} title="First Page">${this.renderIcon("chevron-double-left")}</a></li>`,e+=`<li${1===a?` class="${i}"`:""}>`,e+=`<a ${1===a?"":`onclick="DataTables.goToPage(${a-1})"`} title="Previous Page">&laquo;</a></li>`,a>2&&(e+='<li><a onclick="DataTables.goToPage(1)">1</a></li>',a>3&&(e+=`<li class="${i}"><span>...</span></li>`));const t=Math.max(1,a-1),n=Math.min(o,a+1);for(let o=t;o<=n;o++)e+=`<li${o===a?` class="${s}"`:""}>`,e+=`<a ${o===a?"":`onclick="DataTables.goToPage(${o})"`}>${o}</a></li>`;a<o-1&&(a<o-2&&(e+=`<li class="${i}"><span>...</span></li>`),e+=`<li><a onclick="DataTables.goToPage(${o})">${o}</a></li>`),e+=`<li${a===o?` class="${i}"`:""}>`,e+=`<a ${a===o?"":`onclick="DataTables.goToPage(${a+1})"`} title="Next Page">&raquo;</a></li>`,e+=`<li${a===o?` class="${i}"`:""}>`,e+=`<a ${a===o?"":`onclick="DataTables.goToPage(${o})"`} title="Last Page">${this.renderIcon("chevron-double-right")}</a></li>`}document.querySelectorAll(".datatables-pagination").forEach(t=>{t.innerHTML=e})}goToPage(t){this.currentPage=t,this.loadData()}updateSortIcons(){document.querySelectorAll(".sort-icon").forEach(t=>{"uikit"===this.theme?t.setAttribute("uk-icon","triangle-up"):t.innerHTML=this.renderIcon("triangle-up")}),document.querySelectorAll(`th[data-sort="${this.sortColumn}"] .sort-icon`).forEach(t=>{if(t){const e="ASC"===this.sortDirection?"triangle-up":"triangle-down";"uikit"===this.theme?t.setAttribute("uk-icon",e):t.innerHTML=this.renderIcon(e)}})}toggleSelectAll(t){document.querySelectorAll(".row-checkbox").forEach(e=>{e.checked=t.checked,this.toggleRowSelection(e)})}toggleRowSelection(t){const e=t.value;if(t.checked)this.selectedIds.add(e);else{this.selectedIds.delete(e);const t=document.querySelector(".datatables-select-all");t&&(t.checked=!1)}this.updateBulkActionButtons()}updateBulkActionButtons(){const t=this.selectedIds.size>0;document.querySelectorAll(".datatables-bulk-action-btn").forEach(e=>{e.disabled=!t})}executeBulkActionDirect(t,e){e&&e.preventDefault();const a=Array.from(this.selectedIds);if(0===a.length)return void this.showNotification("No records selected","warning");const o=document.querySelector(`[data-action="${t}"]`),i=o?o.getAttribute("data-confirm"):"";i?this.showConfirm(i).then(()=>{this.performBulkAction(t,a)},()=>{}):this.performBulkAction(t,a)}executeActionCallback(t,e,a){a&&a.preventDefault();const o=window.DataTablesRowData?window.DataTablesRowData[e]:{};let i=null;if(this.actionConfig.groups)for(const e of this.actionConfig.groups)if("object"==typeof e&&!Array.isArray(e)&&e[t]&&e[t].hasCallback){i=e[t];break}i&&(i.confirm?this.showConfirm(i.confirm).then(()=>{this.performActionCallback(t,e,o,i)},()=>{}):this.performActionCallback(t,e,o,i))}performActionCallback(t,e,a,o){const i=new FormData;i.append("action","action_callback"),i.append("action_name",t),i.append("row_id",e),i.append("row_data",JSON.stringify(a)),fetch(window.location.href,{method:"POST",body:i}).then(t=>t.json()).then(t=>{t.success?(this.loadData(),this.showNotification(t.message||o.success_message||"Action completed","success")):this.showNotification(t.message||o.error_message||"Action failed","danger")}).catch(t=>{console.error("Error:",t),this.showNotification("An error occurred","danger")})}resetSearch(){document.querySelectorAll(".datatables-search").forEach(t=>{t.value=""}),this.search="",this.currentPage=1,this.loadData()}executeBulkAction(){const t=document.querySelector(".datatables-bulk-action");if(!t||!t.value)return;const e=t.value,a=Array.from(this.selectedIds);if(0===a.length)return void this.showNotification("No records selected","warning");const o=this.bulkActions[e];o&&o.confirm?this.showConfirm(o.confirm).then(()=>{this.performBulkAction(e,a)},()=>{}):this.performBulkAction(e,a)}performBulkAction(t,e){const a=new FormData;a.append("action","bulk_action"),a.append("bulk_action",t),a.append("selected_ids",JSON.stringify(e)),fetch(window.location.href,{method:"POST",body:a}).then(t=>t.json()).then(t=>{if(t.success){this.selectedIds.clear(),this.loadData(),this.showNotification(t.message||"Bulk action completed","success");const e=document.querySelector(".datatables-bulk-action");e&&(e.value="");const a=document.querySelector(".datatables-select-all");a&&(a.checked=!1),this.updateBulkActionButtons()}else this.showNotification(t.message||"Bulk action failed","danger")}).catch(t=>{console.error("Error:",t),this.showNotification("An error occurred","danger")})}showAddModal(t){t&&t.preventDefault(),this.showModal("add-modal")}showEditModal(t){this.loadRecordForEdit(t),this.showModal("edit-modal")}showDeleteModal(t){this.deleteId=t,this.showModal("delete-modal")}loadRecordForEdit(t){const e=new URLSearchParams({action:"fetch_record",id:t});fetch("?"+e.toString()).then(t=>t.json()).then(t=>{t.success&&t.data?this.populateEditForm(t.data):(console.error("Failed to fetch record:",t.message),this.showNotification(t.message||"Failed to fetch record data","danger"))}).catch(t=>{console.error("Error fetching record:",t),this.showNotification("Error fetching record data","danger")})}populateEditForm(t){let e=this.primaryKey;this.primaryKey.includes(".")&&(e=this.primaryKey.split(".")[1]);let a=t[this.primaryKey]||t[e]||t["s.id"]||t.id||"";const o=document.getElementById(`edit-${e}`);o&&(o.value=a);const i=document.getElementById("edit-form");if(!i)return;i.querySelectorAll("input, select, textarea").forEach(a=>{const o=a.name;if(!o||o===e)return;const i=t[o];null!=i?"checkbox"===a.type?a.checked="1"==i||"true"===i||!0===i:"radio"===a.type?a.checked=a.value===String(i):(a.hasAttribute("data-select2")&&(a.innerHTML=`<option value="${i}" selected>${i}</option>`),a.value=i):"checkbox"===a.type||"radio"===a.type?a.checked=!1:a.value=""});const s=i.querySelectorAll("select[data-select2]");if(s.length>0){const e=JSON.stringify(t);s.forEach(a=>{a.setAttribute("data-record-data",e);const o=a.kptSelect2Instance;o&&a.value&&(o.config.recordData=t,o.selectedValue=a.value,o.loadInitialValue())})}}submitAddForm(t){t.preventDefault();const e=t.target,a=new FormData(e);return a.append("action","add_record"),this.submitForm(a,e,"add-modal","Record added successfully"),!1}submitEditForm(t){t.preventDefault();const e=t.target,a=new FormData(e);return a.append("action","edit_record"),this.submitForm(a,null,"edit-modal","Record updated successfully"),!1}submitForm(t,e,a,o){t.append("table",this.tableName),fetch(window.location.href,{method:"POST",body:t}).then(t=>t.json()).then(t=>{t.success?(this.hideModal(a),e&&e.reset(),this.loadData(),this.showNotification(o,"success")):this.showNotification(t.message||"Operation failed","danger")}).catch(t=>{console.error("Error:",t),this.showNotification("An error occurred","danger")})}confirmDelete(){if(!this.deleteId)return;const t=new FormData;t.append("action","delete_record"),t.append("id",this.deleteId),fetch(window.location.href,{method:"POST",body:t}).then(t=>t.json()).then(t=>{t.success?(this.hideModal("delete-modal"),this.loadData(),this.showNotification("Record deleted successfully","success")):this.showNotification(t.message||"Failed to delete record","danger")}).catch(t=>{console.error("Error:",t),this.showNotification("An error occurred","danger")}),this.deleteId=null}bindTableEvents(){document.querySelectorAll(".btn-edit").forEach(t=>{t.addEventListener("click",t=>{t.preventDefault();const e=t.target.closest("tr").getAttribute("data-id");this.showEditModal(e)})}),document.querySelectorAll(".btn-delete").forEach(t=>{t.addEventListener("click",t=>{t.preventDefault();const e=t.target.closest("tr").getAttribute("data-id");this.showDeleteModal(e)})}),document.querySelectorAll("td .inline-editable:not(.boolean-toggle)").forEach(t=>{t.addEventListener("click",t=>{t.preventDefault(),t.stopPropagation();const e=t.target.closest(".inline-editable");this.startInlineEdit(e)})}),document.querySelectorAll("td .boolean-toggle").forEach(t=>{t.addEventListener("click",t=>{t.preventDefault(),t.stopPropagation(),this.toggleBoolean(t.target.closest(".boolean-toggle"))})}),document.querySelectorAll("tr.row-select").forEach(t=>{t.addEventListener("click",e=>{const a=e.target.closest("td");if(a&&!a.classList.contains("row-check")&&!a.classList.contains("row-action")&&!a.classList.contains("cell-edit")){const e=t.querySelector(".row-checkbox");e&&(e.checked=!e.checked,this.toggleRowSelection(e))}})})}startInlineEdit(t){if(t.querySelector("input, select, textarea"))return;const e=t.getAttribute("data-field"),a=t.getAttribute("data-id"),o=t.getAttribute("data-type")||"text",i=t.getAttribute("data-value")||t.textContent;if(!this.inlineEditableColumns.includes(e))return;const s=this.getThemeClass("input"),n=this.getThemeClass("select"),l=this.getThemeClass("textarea"),r=this.getThemeClass("button.primary"),c=this.getThemeClass("button.default"),d=this.getThemeClass("button.small"),h=this.getThemeClass("flex.right"),u=this.getThemeClass("margin.smallTop"),p=this.getThemeClass("margin.smallRight"),g=this.getThemeClass("margin.smallBottom"),m=this.getThemeClass("border.rounded"),b=this.getThemeClass("display.block"),f=document.querySelector(".datatables-table"),k=f?JSON.parse(f.dataset.columns||"{}"):{};let y;switch(o){case"select":const f=k[e]?.form_options||{};y=document.createElement("select"),y.className=n;for(const[t,e]of Object.entries(f)){const a=document.createElement("option");a.value=t,a.textContent=e,t===i&&(a.selected=!0),y.appendChild(a)}break;case"select2":const w=k[e]?.select2_query||"",v=0,x=k[e]?.select2_max_results||50;let C=i;if(!w)return console.error("No query configured for select2 field:",e),void(t.textContent=i);const $=document.createElement("select");return $.className=n,$.setAttribute("data-select2","true"),$.setAttribute("data-query",w),$.setAttribute("data-placeholder","Select..."),$.setAttribute("data-min-search-chars",v),$.setAttribute("data-max-results",x),$.setAttribute("data-theme",this.theme),$.innerHTML=`<option value="${i}" selected>Loading...</option>`,$.value=i,t.innerHTML="",t.appendChild($),void setTimeout(()=>{if("function"==typeof window.KPTSelect2){const o={placeholder:$.getAttribute("data-placeholder")||"Select...",query:$.getAttribute("data-query")||"",minSearchChars:$.getAttribute("data-min-search-chars")||0,maxResults:$.getAttribute("data-max-results")||50,theme:$.getAttribute("data-theme")||"uikit",recordData:{}};new KPTSelect2($,o),$.addEventListener("change",()=>{const o=$.value;o!==i?this.saveInlineEdit(a,e,o,t):$.kptSelect2Instance?t.textContent=$.kptSelect2Instance.selectedLabel||i:t.textContent=i});const s=$.kptSelect2Instance,n=s.close.bind(s);s.close=function(){const e=$.value!==i;n(),e||(t.textContent=C)}}else console.error("KPTSelect2 class not found!");setTimeout(()=>{$.kptSelect2Instance?($.kptSelect2Instance.selectedValue=i,$.kptSelect2Instance.loadInitialValue(),setTimeout(()=>{C=$.kptSelect2Instance.selectedLabel||i},25),setTimeout(()=>{$.kptSelect2Instance.open()},50)):console.error("NO INSTANCE CREATED")},100)},150);case"textarea":y=document.createElement("textarea"),y.className=l,y.value=i;break;case"number":y=document.createElement("input"),y.type="number",y.className=s,y.value=i;break;case"date":y=document.createElement("input"),y.type="date",y.className=s,y.value=i;break;case"datetime-local":y=document.createElement("input"),y.type="datetime-local",y.className=s,y.value=i;break;case"image":const T=document.createElement("div");if(T.style.minWidth="200px",i&&i.trim()){const t=i.startsWith("http")?i:`/uploads/${i}`,e=document.createElement("img");e.src=t,e.style.maxWidth="100px",e.style.maxHeight="100px",e.style.objectFit="cover",e.className=`${m} ${g} ${b}`,T.appendChild(e)}const E=document.createElement("input");E.type="url",E.className=`${s} ${g}`,E.placeholder="Enter image URL or upload file",E.value=i.startsWith("http")?i:"";const A=document.createElement("div");A.className=g;const D=document.createElement("input");D.type="file",D.className=s,D.accept="image/*";const S=document.createElement("div");S.className=`${h} ${u}`;const P=document.createElement("button");P.className=`${r} ${d} ${p}`,P.textContent="Save",P.type="button";const I=document.createElement("button");I.className=`${c} ${d}`,I.textContent="Cancel",I.type="button",A.appendChild(D),S.appendChild(P),S.appendChild(I),T.appendChild(E),T.appendChild(A),T.appendChild(S);const N=()=>{const o=E.value.trim(),s=D.files[0];if(s){const o=new FormData;o.append("action","upload_file"),o.append("file",s),o.append("prepend",t.getAttribute("data-prepend")||""),fetch(window.location.href,{method:"POST",body:o}).then(t=>t.json()).then(o=>{o.success?this.saveInlineEdit(a,e,o.file_name,t):(L(),this.showNotification(o.message||"Upload failed","danger"))}).catch(t=>{L(),this.showNotification("Upload error","danger")})}else o!==i?this.saveInlineEdit(a,e,o,t):L()},L=()=>{if(i&&i.trim()){const e=i.startsWith("http")?i:`/uploads/${i}`;t.innerHTML=`<img src="${e}" alt="Image" style="max-width: 50px; max-height: 50px; object-fit: cover;" class="${m}">`}else t.innerHTML="No image"};return P.addEventListener("click",N),I.addEventListener("click",L),E.addEventListener("keydown",t=>{"Enter"===t.key?(t.preventDefault(),N()):"Escape"===t.key&&(t.preventDefault(),L())}),t.innerHTML="",t.appendChild(T),void E.focus();default:y=document.createElement("input"),y.type="email"===o?"email":"text",y.className=s,y.value=i}const w=()=>{const o=y.value;o!==i?this.saveInlineEdit(a,e,o,t):t.textContent=i};y.addEventListener("blur",w),y.addEventListener("keydown",e=>{"Enter"===e.key?(e.preventDefault(),w()):"Escape"===e.key&&(e.preventDefault(),t.textContent=i)}),t.textContent="",t.appendChild(y),y.focus(),y.select&&y.select()}toggleBoolean(t){const e=t.getAttribute("data-field"),a=t.getAttribute("data-id"),o=t.getAttribute("data-value"),i="1"==o||"true"===o||!0===o?"0":"1";this.saveInlineEdit(a,e,i,t)}saveInlineEdit(t,e,a,o){const i=new FormData;i.append("action","inline_edit"),i.append("id",t),i.append("field",e),i.append("value",a);const s=this.getThemeClass("border.rounded"),n=this.getThemeClass("icon.success"),l=this.getThemeClass("icon.danger");fetch(window.location.href,{method:"POST",body:i}).then(t=>t.json()).then(t=>{if(t.success){if(this.loadData(),"image"===o.getAttribute("data-type"))if(a&&a.trim()){const t=a.startsWith("http")?a:`/uploads/${a}`;o.innerHTML=`<img src="${t}" alt="Image" style="max-width: 50px; max-height: 50px; object-fit: cover;" class="${s}">`,o.setAttribute("data-value",a)}else o.innerHTML="No image",o.setAttribute("data-value","");else if(o.classList.contains("boolean-toggle")){const t="1"==a||"true"===a||!0===a,e=t?n:l;o.innerHTML=this.renderIcon(t?"check":"close",e),o.setAttribute("data-value",a)}else if("select"===o.getAttribute("data-type")){const t=document.querySelector(".datatables-table"),e=t?JSON.parse(t.dataset.columns||"{}"):{},i=o.getAttribute("data-field"),s=e[i]?.form_options||{},n=String(a),l=n in s?s[n]:a;o.setAttribute("data-value",a),o.textContent=l}else o.textContent=a;const t=document.getElementById(`edit-${e}`);t&&("checkbox"===t.type?t.checked="1"===a||"true"===a||!0===a:t.value=a),this.showNotification("Field updated successfully","success")}else o.textContent=o.getAttribute("data-original")||"",this.showNotification(t.message||"Failed to update field","danger")}).catch(t=>{console.error("Error:",t),o.textContent=o.getAttribute("data-original")||"",this.showNotification("An error occurred","danger")})}getColumnCount(){let t=Object.keys(this.columns).length||1;return t++,this.bulkActionsEnabled&&t++,t}changePageSize(t,e){e&&e.preventDefault(),this.perPage=parseInt(t),this.currentPage=1;const a=this.getThemeClass("button.primary"),o=this.getThemeClass("button.default");document.querySelectorAll(".datatables-page-size-btn").forEach(t=>{parseInt(t.getAttribute("data-size"))===this.perPage?t.className=t.className.replace(o,a):t.className=t.className.replace(a,o)}),document.querySelectorAll(".datatables-page-size").forEach(e=>{e.value=t}),this.loadData()}getRowClass(t){const e=this.cssClasses?.tr||"datatables-row";return e?`${e}-${t}`:""}}window.DataTablesJS=DataTablesJS;